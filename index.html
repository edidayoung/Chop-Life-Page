<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JOLLY DATA PORTAL</title>
    <link rel="icon" type="image/png" href="img/mtn.png" />
    <style>
      :root {
        --mtn-yellow: #ffcb05;
        --mtn-dark: #111827;
        --text: #0f172a;
        --muted: #64748b;
        --card: rgba(255, 255, 255, 0.85);
        --border: rgba(15, 23, 42, 0.12);
        --shadow: 0 18px 50px rgba(15, 23, 42, 0.12);
        --radius: 18px;
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        color: var(--text);
        background:
          radial-gradient(1100px 600px at 15% 20%, rgba(255, 203, 5, 0.20), transparent 60%),
          radial-gradient(900px 500px at 85% 30%, rgba(59, 130, 246, 0.16), transparent 55%),
          linear-gradient(180deg, #fbfbfb 0%, #f3f4f6 100%);
        overflow-x: hidden;
      }

      /* subtle noise overlay */
      body:before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        opacity: 0.07;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      }

      .wrap {
        min-height: 100%;
        display: grid;
        place-items: center;
        padding: 22px;
      }

      .card {
        width: min(520px, 100%);
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        backdrop-filter: blur(10px);
        overflow: hidden;
        position: relative;
      }

      .topbar {
        background: linear-gradient(90deg, rgba(255, 203, 5, 0.95), rgba(255, 203, 5, 0.75));
        padding: 16px 18px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
        letter-spacing: -0.02em;
        color: #111;
      }

      .logo {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: #fff;
        display: grid;
        place-items: center;
        border: 1px solid rgba(0,0,0,0.08);
      }
      .logo span {
        font-weight: 900;
        font-size: 12px;
        background: #0b57d0;
        color: #fff;
        padding: 6px 8px;
        border-radius: 999px;
        line-height: 1;
      }

      .pill {
        background: rgba(255,255,255,0.75);
        border: 1px solid rgba(0,0,0,0.10);
        color: #0b1220;
        padding: 9px 12px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 700;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        white-space: nowrap;
      }
      .dot {
        width: 9px;
        height: 9px;
        border-radius: 999px;
        background: #16a34a;
        box-shadow: 0 0 0 3px rgba(22,163,74,0.18);
        animation: blinkGreen 1.2s ease-in-out infinite;
      }

      @keyframes blinkGreen {
        0%, 100% {
          background: #16a34a;
          box-shadow: 0 0 0 3px rgba(22,163,74,0.18);
        }
        50% {
          background: #22c55e;
          box-shadow: 0 0 0 5px rgba(34,197,94,0.35);
        }
      }

      .content {
        padding: 22px 22px 18px;
      }

      .tagrow {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 14px;
      }

      .badge-today {
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.12), rgba(147, 51, 234, 0.12));
        border: 1px solid rgba(59, 130, 246, 0.3);
        color: var(--mtn-dark);
        border-radius: 999px;
        padding: 8px 10px;
        font-weight: 800;
        font-size: 12px;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        animation: badgePulse 2s ease-in-out infinite;
        position: relative;
        overflow: hidden;
      }

      .badge-today::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        animation: shimmer 3s infinite;
      }

      @keyframes badgePulse {
        0%, 100% {
          transform: scale(1);
          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 6px 18px rgba(59, 130, 246, 0.35);
        }
      }

      @keyframes shimmer {
        0% {
          left: -100%;
        }
        100% {
          left: 200%;
        }
      }

      h1 {
        margin: 10px 0 6px;
        font-size: 28px;
        line-height: 1.15;
        letter-spacing: -0.03em;
      }

      p.sub {
        margin: 0 0 18px;
        color: var(--muted);
        font-size: 14px;
        line-height: 1.5;
      }

      .statusgrid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 18px;
      }

      .stat {
        background: rgba(255,255,255,0.75);
        border: 1px solid rgba(15,23,42,0.10);
        border-radius: 14px;
        padding: 12px 12px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }
      .stat .k {
        color: var(--muted);
        font-size: 12px;
        font-weight: 700;
      }
      .stat .v {
        color: var(--text);
        font-size: 13px;
        font-weight: 900;
      }

      .section-title {
        font-weight: 900;
        font-size: 13px;
        letter-spacing: 0.02em;
        margin: 12px 0 10px;
      }

      .options {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-bottom: 14px;
      }

      .opt {
        border: 2px solid rgba(15,23,42,0.08);
        background: rgba(255,255,255,0.90);
        border-radius: 16px;
        padding: 12px 10px;
        cursor: pointer;
        transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        text-align: center;
        user-select: none;
      }

      .opt:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 22px rgba(15,23,42,0.10);
        border-color: rgba(34, 197, 94, 0.2);
      }

      .opt .gb {
        font-size: 16px;
        font-weight: 1000;
        letter-spacing: -0.02em;
      }

      .opt .hint {
        margin-top: 4px;
        font-size: 11px;
        color: var(--muted);
        font-weight: 700;
      }

      .opt.active {
        border-color: rgba(34, 197, 94, 0.6);
        box-shadow: 0 12px 26px rgba(34, 197, 94, 0.25);
        background: linear-gradient(180deg, rgba(34, 197, 94, 0.15), rgba(255,255,255,0.90));
        animation: activeGlow 2s ease-in-out infinite;
      }

      @keyframes activeGlow {
        0%, 100% {
          box-shadow: 0 12px 26px rgba(34, 197, 94, 0.25);
        }
        50% {
          box-shadow: 0 14px 32px rgba(34, 197, 94, 0.35);
        }
      }

      .opt.active .gb {
        color: #16a34a;
      }

      .opt.active .hint {
        color: #16a34a;
        font-weight: 800;
      }

      .cta {
        width: 100%;
        border: none;
        border-radius: 16px;
        padding: 14px 14px;
        font-weight: 1000;
        letter-spacing: 0.02em;
        font-size: 14px;
        cursor: pointer;
        background: var(--mtn-yellow);
        color: #111;
        box-shadow: 0 18px 35px rgba(255,203,5,0.30);
        transition: transform 140ms ease, filter 140ms ease;
      }
      .cta:hover { transform: translateY(-1px); filter: brightness(0.98); }
      .cta:active { transform: translateY(0px); }

      .micro {
        margin: 10px 0 0;
        color: var(--muted);
        font-size: 12px;
        text-align: center;
        font-weight: 700;
      }

      .trust {
        margin-top: 16px;
        background: rgba(15,23,42,0.04);
        border: 1px solid rgba(15,23,42,0.08);
        border-radius: 16px;
        padding: 12px 12px;
        display: grid;
        gap: 8px;
      }

      .trust .row {
        display: flex;
        gap: 10px;
        align-items: flex-start;
        font-size: 12px;
        color: #0f172a;
        line-height: 1.35;
      }
      .check {
        width: 18px;
        height: 18px;
        border-radius: 6px;
        background: rgba(22,163,74,0.14);
        display: grid;
        place-items: center;
        color: #16a34a;
        font-weight: 1000;
        flex: 0 0 auto;
        margin-top: 1px;
      }
      .mutedline { color: var(--muted); font-weight: 700; }

      .footerbar {
        padding: 14px 16px 18px;
        border-top: 1px solid rgba(15,23,42,0.08);
        background: linear-gradient(180deg, rgba(255,255,255,0.15), rgba(255,255,255,0.35));
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: center;
        text-align: center;
      }

      .fineprint {
        font-size: 11px;
        color: rgba(100,116,139,0.95);
        line-height: 1.35;
        max-width: 46ch;
      }

      .selected-pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 10px;
        border-radius: 999px;
        border: 1px solid rgba(15,23,42,0.10);
        background: rgba(255,255,255,0.70);
        font-size: 12px;
        font-weight: 900;
        color: #0f172a;
      }
      .selected-pill b { color: #0b57d0; }

      /* Countdown pill with blinking red urgency */
      .countdown-pill {
        background: linear-gradient(135deg, #dc2626, #ef4444);
        border: 2px solid #991b1b;
        color: #fff;
        padding: 10px 16px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 900;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        white-space: nowrap;
        box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
        animation: urgentBlink 1.5s ease-in-out infinite;
      }

      @keyframes urgentBlink {
        0%, 100% {
          opacity: 1;
          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
        }
        50% {
          opacity: 0.85;
          box-shadow: 0 6px 20px rgba(220, 38, 38, 0.7);
        }
      }

      /* modal */
      .modal {
        position: fixed;
        inset: 0;
        display: none;
        place-items: center;
        padding: 20px;
        background: rgba(2,6,23,0.55);
        z-index: 999;
      }
      .modal.open { display: grid; }
      .modal-card {
        width: min(460px, 100%);
        border-radius: 18px;
        background: rgba(255,255,255,0.92);
        border: 1px solid rgba(255,255,255,0.25);
        box-shadow: 0 28px 80px rgba(2,6,23,0.30);
        overflow: hidden;
      }
      .modal-head {
        padding: 14px 16px;
        background: linear-gradient(90deg, rgba(255,203,5,0.95), rgba(255,203,5,0.70));
        font-weight: 1000;
        color: #111;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .xbtn {
        border: none;
        background: rgba(255,255,255,0.65);
        border: 1px solid rgba(0,0,0,0.08);
        width: 34px;
        height: 34px;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 1000;
      }
      .modal-body { padding: 16px; }
      .loader {
        display: grid;
        gap: 10px;
      }
      .bar {
        height: 10px;
        border-radius: 999px;
        background: rgba(15,23,42,0.08);
        overflow: hidden;
        position: relative;
      }
      .bar > i {
        position: absolute;
        inset: 0;
        width: 40%;
        background: linear-gradient(90deg, rgba(11,87,208,0.0), rgba(11,87,208,0.55), rgba(11,87,208,0.0));
        animation: slide 1.1s infinite linear;
      }
      @keyframes slide {
        0% { transform: translateX(-120%); }
        100% { transform: translateX(320%); }
      }
      .steps {
        margin-top: 10px;
        font-size: 13px;
        color: #0f172a;
        font-weight: 800;
      }
      .steps small {
        display: block;
        margin-top: 6px;
        color: var(--muted);
        font-weight: 700;
        line-height: 1.35;
      }

      .verified-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 10px;
        border-radius: 8px;
        background: linear-gradient(135deg, #22c55e, #16a34a);
        color: #fff;
        font-size: 11px;
        font-weight: 900;
        margin-top: 12px;
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
        animation: verifiedPulse 2s ease-in-out infinite;
      }

      @keyframes verifiedPulse {
        0%, 100% {
          transform: scale(1);
          box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 6px 18px rgba(34, 197, 94, 0.5);
        }
      }

      .verified-icon {
        width: 16px;
        height: 16px;
        background: #fff;
        border-radius: 50%;
        display: grid;
        place-items: center;
        color: #16a34a;
        font-size: 10px;
        font-weight: 1000;
      }

      @media (max-width: 420px) {
        h1 { font-size: 22px; }
        .wrap { padding: 16px; }
        .card { font-size: 14px; }
        .opt { padding: 10px 6px; }
        .opt .gb { font-size: 14px; }
        .opt .hint { font-size: 9px; white-space: nowrap; }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <main class="card" role="main" aria-label="DATA Access Portal">
        <div class="topbar">
          <div class="brand">
            <div style="width: 40px; height: 40px; border-radius: 50%; background: #fff; display: grid; place-items: center; padding: 6px; border: 1px solid rgba(0,0,0,0.08);">
              <img src="img/mtn.png" alt="MTN" style="width: 100%; height: 100%; object-fit: contain;">
            </div>
            <div>
              <div style="font-size: 13px; font-weight: 1000;">DATA Access Portal</div>
              <div style="font-size: 11px; font-weight: 800; opacity: 0.8;">Quick Subscribe</div>
            </div>
          </div>

          <div class="pill" title="System status">
            <span class="dot" aria-hidden="true"></span>
            System Active
          </div>
        </div>

        <div class="content">
          <div class="tagrow">
            <span class="badge-today">
              <span style="display: inline-flex; align-items: center; justify-content: center; width: 16px; height: 16px; background: #22c55e; border-radius: 50%; color: #fff; font-size: 10px; font-weight: 1000; margin-right: 6px;">✓</span>
              1987/2000 Applied
            </span>
            <span class="selected-pill">Selected: <b id="selectedText">2GB</b></span>
          </div>

          <h1 style="text-align: center;">Check if slots are still available</h1>
          <p class="sub" style="text-align: center;">
            Select your data amount and check availability now. Slots filling up fast!
          </p>

          <div class="statusgrid">
            <div class="stat">
              <div>
                <div class="k">Status</div>
                <div class="v">Active</div>
              </div>
              <div class="pill" style="padding:7px 10px; font-size:11px;">
                <span class="dot" style="animation: blinkGreen 1.2s ease-in-out infinite;"></span>
                Live
              </div>
            </div>
            <div class="stat">
              <div>
                <div class="k">Ends In</div>
                <div class="v">Soon</div>
              </div>
              <div class="countdown-pill">
                <span id="countdown">10:00</span>
              </div>
            </div>
          </div>

          <div class="section-title">Select amount</div>

          <div class="options" role="list">
            <div class="opt" role="listitem" data-value="500MB" tabindex="0" aria-label="Select 500MB">
              <div class="gb">500MB</div>
              <div class="hint">₦25 • 2 days</div>
            </div>

            <div class="opt active" role="listitem" data-value="2GB" tabindex="0" aria-label="Select 2GB">
              <div class="gb">2GB</div>
              <div class="hint">₦99 • 7 days</div>
            </div>

            <div class="opt" role="listitem" data-value="5.5GB" tabindex="0" aria-label="Select 5.5GB">
              <div class="gb">5.5GB</div>
              <div class="hint">₦150 • 7 days</div>
            </div>
          </div>

          <button id="checkBtn" class="cta">CHECK AVAILABILITY</button>
          <div class="micro">Takes~30 seconds • Limited slots available</div>

          <div class="trust" aria-label="Trust information">
            <div class="row">
              <div class="check" aria-hidden="true">✓</div>
              <div>
                <b>No app needed.</b> <span class="mutedline">Simple and fast verification process.</span>
              </div>
            </div>
            <div class="row">
              <div class="check" aria-hidden="true">✓</div>
              <div>
                <b>Easily subscribe and confirm.</b> <span class="mutedline">Complete in just a few clicks.</span>
              </div>
            </div>
            <div class="row">
              <div class="check" aria-hidden="true">✓</div>
              <div>
                <b>100% verified by MTN, Airtel and Glo.</b> <span class="mutedline">Trusted by all networks.</span>
              </div>
            </div>
          </div>
        </div>

        <div class="footerbar">
          <div class="fineprint" style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
            <div style="font-weight: 900; color: #0f172a; font-size: 12px;">Unlimited Data Deals Today</div>
            <div style="display: flex; align-items: center; gap: 6px; font-size: 11px; color: #64748b;">
              Verified by
              <img src="img/mtn.png" alt="MTN" style="height: 18px; width: auto;">
              <img src="img/airtel.png" alt="Airtel" style="height: 18px; width: auto;">
              <img src="img/glo.png" alt="Glo" style="height: 18px; width: auto;">
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Processing Modal -->
    <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-label="Checking availability">
      <div class="modal-card">
        <div class="modal-head">
          <span>Checking availability…</span>
          <button class="xbtn" id="closeModal" aria-label="Close">✕</button>
        </div>
        <div class="modal-body">
          <div class="loader">
            <div class="bar"><i></i></div>
            <div class="bar"><i></i></div>
            <div class="bar"><i></i></div>
          </div>
          <div class="steps" id="stepText">
            Validating selection…
            <small>Please wait. Do not refresh.</small>
          </div>
          <div style="text-align: center;">
            <div class="verified-badge">
              <span class="verified-icon">✓</span>
              VERIFIED & SECURE
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ====== CONFIG: Your CPA link ======
      const CPA_LINK = "https://kpozblt.com/cl/4f2b481ba310dff2";

      // ====== Countdown Timer ======
      const countdownEl = document.getElementById("countdown");
      const COUNTDOWN_DURATION = 5 * 60; // 5 minutes in seconds
      const STORAGE_KEY = 'countdownEndTime';

      function getTimeLeft() {
        const endTime = localStorage.getItem(STORAGE_KEY);
        
        if (!endTime) {
          // First time - set new end time
          const newEndTime = Date.now() + (COUNTDOWN_DURATION * 1000);
          localStorage.setItem(STORAGE_KEY, newEndTime);
          return COUNTDOWN_DURATION;
        }
        
        const timeLeft = Math.floor((parseInt(endTime) - Date.now()) / 1000);
        
        if (timeLeft <= 0) {
          // Timer expired - restart
          const newEndTime = Date.now() + (COUNTDOWN_DURATION * 1000);
          localStorage.setItem(STORAGE_KEY, newEndTime);
          return COUNTDOWN_DURATION;
        }
        
        return timeLeft;
      }

      function updateCountdown() {
        const timeLeft = getTimeLeft();
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        countdownEl.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
      }

      // Update immediately and then every second
      updateCountdown();
      setInterval(updateCountdown, 1000);

      // ====== Selection logic ======
      const opts = Array.from(document.querySelectorAll(".opt"));
      const selectedText = document.getElementById("selectedText");
      let selectedValue = "2GB";

      function setActive(el) {
        opts.forEach(o => o.classList.remove("active"));
        el.classList.add("active");
        selectedValue = el.dataset.value;
        selectedText.textContent = selectedValue;
      }

      opts.forEach(opt => {
        opt.addEventListener("click", () => setActive(opt));
        opt.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            setActive(opt);
          }
        });
      });

      // ====== Modal + redirect ======
      const modal = document.getElementById("modal");
      const checkBtn = document.getElementById("checkBtn");
      const stepText = document.getElementById("stepText");
      const closeModal = document.getElementById("closeModal");

      let redirectTimer = null;
      let stepTimer = null;

      function openModal() {
        modal.classList.add("open");
        modal.setAttribute("aria-hidden", "false");
      }
      function closeModalFn() {
        modal.classList.remove("open");
        modal.setAttribute("aria-hidden", "true");
        clearTimeout(redirectTimer);
        clearInterval(stepTimer);
      }

      closeModal.addEventListener("click", closeModalFn);
      modal.addEventListener("click", (e) => {
        if (e.target === modal) closeModalFn();
      });

      checkBtn.addEventListener("click", () => {
        openModal();

        const steps = [
          { text: "Checking availability…", duration: 1500 },
          { text: `Verifying ${selectedValue} slot…`, duration: 2000 },
          { text: "Searching for best subscription page…", duration: 4000 },
          { text: "Found! Preparing your offer…", duration: 1500 },
          { text: "Redirecting to verified subscription page…", duration: 1500 }
        ];

        let i = 0;
        stepText.innerHTML = `${steps[i].text}<small>Please wait. Do not refresh.</small>`;

        function showNextStep() {
          i++;
          if (i >= steps.length) return;
          stepText.innerHTML = `${steps[i].text}<small>Please wait. Do not refresh.</small>`;
          if (i < steps.length - 1) {
            setTimeout(showNextStep, steps[i].duration);
          }
        }

        setTimeout(showNextStep, steps[0].duration);

        // Slight delay to feel “system-like”, then redirect.
        redirectTimer = setTimeout(() => {
          // Pass selected option as a query param (optional, harmless)
          const url = new URL(CPA_LINK);
          url.searchParams.set("pkg", selectedValue);
          window.location.href = url.toString();
        }, 12500);
      });
    </script>
  </body>
</html>
